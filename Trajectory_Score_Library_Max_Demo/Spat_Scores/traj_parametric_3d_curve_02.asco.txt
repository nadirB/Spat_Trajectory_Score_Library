BPM 10

@insert "inserts/@iniT.asco.txt"

@history_clear
@viewer_anchors_visible(0)
@viewer_layout(leftright)
@speakers(8)
speakers_config 24
@sources_position(90, 2)
@viewer_zoom(140 )
@viewer_div(0)
@viewer_numdiv(16)
play 0



/*

x = sin(3t)cos(5t)
y = sin(3t)sin(5T)
z = cos(3t)

*/

@global $pi
	$pi := 3.141592653589793

@fun_def X($t, $offsetX)

{
	@sin(3*$t)*@cos(5*$t) + $offsetX
}

@fun_def Y( $t, $offsetY)
{
	@sin(3*$t)*@sin(5*$t) + $offsetY
}

@fun_def Z( $t, $offsetZ)
{
	@cos(3*$t)  + $offsetZ
}

@proc_def D3($src=4, $initT=0, $targeT=2, $offsetX=0, $offsetY=0, $offsetZ=0, $speed=4)

{
	@global $SPEED ; to use for setvar outControl with a whenever{(setvar...==setvar...)}
	@local $offset
	$offset := 0.

	$prefix := "/source/" + $src + "/xyz"
	oscsend spat5 "127.0.0.1" : 4072 $prefix

    ;loop pi $SPEED
	;{
		;abort parametric_curve

		curve parametric_curve @grain := 0.001s
						@Action := {

								spat5 @X($t, $offsetX) @Y($t,$offsetY) @Z($t,$offsetZ)
							}

		{
			$t
					{
							   { ($initT*$pi)  } /*@type "exp"*/
						$speed { ($targeT*$pi) }


					}
		}


	;}

}

event 1 d_00

::D3()

event 1 d_01

@history_clear
::D3(src=1, initT=0, targeT=1, offsetX=0, offsetY=0, offsetZ=0, speed=8)

event 1 d_02

@history_clear
::D3(1, 0, 2, 0, 0, 0, 16)

event 1 d_03

@history_clear

::D3(1, 0, 1, 0, 1, 0, 16)

event 1 d_04

@history_clear

::D3(1, 0, 10, 0, 1, 0, 32)

BPM 90

source_pos_init bang
lcd_spat clear
lcd_spat drawpict pattern

gate_draw_coord 1
spat_data 2

$circle := ::circle
abort $circle 

@global $pi
$pi := 3.141592653589793


@insert "inserts/spat_@Circle.asco.txt"
@insert "inserts/spat_@Circle_Varispeed.asco.txt"



Event 1 circle_01

; ::circle($cmd, $iniT, $targeT, $r, $offsetX, $offsetY, $count, $speed)


;$cmd := source spat receiver
;$iniT := source initial position
;$targeT := source target position

;$offsetX := circle position according to xx' axe
;$offsetY := circle position according to yy' axe

;$count := n circle loop
;$speed := source mvt speed

; cf. patch_folder/figures_folder/figure I - trigonometry_circle.pdf and figure II


lcd_spat clear
lcd_spat drawpict pattern
::circle("spat1", 0, 2, 1, 0, 0, 1, 4) ; 2π := 1 turn anti-clockwise with a radius of 1 during 4 beats 
4

lcd_spat clear
lcd_spat drawpict pattern

::circle("spat1", 0, -2, 1, 0, 0, 1, 4) ; -2π := 1 turn clockwise with a radius of 1 during 4 beats 

Event 1 circle_02 ; with speed variation

abort $circle


lcd_spat clear
lcd_spat drawpict pattern

::vari_circle("spat2", 0, -2, 2, 0, 0, 1, 8) ;-2π := 1 turn clockwise with a radius of 2 during 8 beats
											 ;with speed variation





Event 1 multi_circle_01

lcd_spat clear
lcd_spat drawpict pattern

; ::circle($cmd, $iniT, $targeT, $r, $offsetX, $offsetY, $count, $SPEED)


::circle("spat1", 0,  2,  0.3,  0, 0, 1, 4) ; 2π := 1 turn anti-clockwise with a radius of 0.3 during 4 beats
::circle("spat2", 0, -1,  0.5,  0, 0, 2, 4) ; -2π * $count(2) := 2 turn clockwise with a radius of 0.5 during 4 beats
::circle("spat3", 0,  2,  0.7,  0, 0, 1, 4) ; 2π := 1 turn anti-clockwise with a radius of 0.7 during 4 beats

Event 1 multi_circle_02

lcd_spat clear
lcd_spat drawpict pattern

; ::circle($cmd, $iniT, $targeT, $r, $offsetX, $offsetY, $count, $SPEED)


::circle("spat1", 0,   2  ,   1.3,  0,  0,  1, 4) ;2π := 1 turn anti-clockwise with a radius of 1.3 during 4 beats
::circle("spat2", 0,   3/4,   1.5,  0,  0,  1, 4) ;3π/4 := go to 135° anti-clockwise (azimuth -45) with a radius of 1.5 during 4 beats
::circle("spat3", 0, -11/8,   1.7,  0,  0,  1, 4) ;-11/8π := -247.5° clockwise => by yy' symmetry  => 5π/8 := 112.5° anti-clockwise 

4

print_message @rad2deg(-11/8*$pi)
print_message @deg2rad(-247.5)

print_message @rad2deg(5/8*$pi)
print_message @deg2rad(112.5)


::circle("spat3", 0, @deg2rad(-247.5),   1.7,  0,  0,  1, 4) ; idem clockwise
4
::circle("spat3", 0, @deg2rad(112.5),   1.7,  0,  0,  1, 4) ; idem anti-clockwise
4
::circle("spat3", 0, 5/8,   1.7,  0,  0,  1, 4) 



4
::circle("spat1",   2  ,   1  ,   1.3, 0, 0, 1, 4)
::circle("spat2",   3/4,   1  ,   1.5, 0, 0, 1, 4)
::circle("spat3", -11/8,   1/2,   1.7, 0, 0, 1, 4)


Event 1 circles_05

lcd_spat clear
lcd_spat drawpict pattern
source_pos_init bang

OPER source 1 ad -90 2, source 2 ad 0 2, source 3 ad 90 2, source 4 ad -180 2




; ::circle($cmd, $iniT, $targeT, $r, $offsetX, $offsetY, $count, $SPEED)
; cf. figure III circle with offsets1

::circle("spat1", -1, 1, 1,   -1, 0,  1, 4);  from π/180°/Az90 :  1 turn anti-clockwise during 4 beats, with a radius of 1 and a positive x offset 
4

lcd_spat clear
lcd_spat drawpict pattern
::circle("spat2", 1/2, -1-1/2, 1,  0, 1,  1, 4); from (π/2)/90°/Az0 : 1 turn clockwise during 4 beats, with a radius of 1 and a positive y offset

4

lcd_spat clear
lcd_spat drawpict pattern
::circle("spat3", 0, 2, 1, 1, 0,  1, 4);  from 0/2π/Az90 1 turn anti-clockwise during 4 beats, with a radius of 1 and a negative x offset

4

lcd_spat clear
lcd_spat drawpict pattern
::circle("spat4", 3/2, -2+3/2, 1,  0, -1,  1, 4) ; from (3π/2)/270°/Az-180 1 turn anti-clockwise during 4 beats, with a radius of 1 and a negative y offset



Event 1 circles_06


lcd_spat clear
lcd_spat drawpict pattern

; ($cmd, $iniT, $targeT, $r, $offsetX, $offsetY, $count, $SPEED)


::circle("spat1", -1, 1,      1, -1,   0, 1, 4)

::circle("spat2", 1/2, -2+1/2,  1,  0,   1, 1, 4)

::circle("spat3", 0,   2,      1,  1,   0, 1, 4)

::circle("spat4", 3/2, -2+3/2, 1,  0,  -1, 1, 4)


Event 1 circles_07

lcd_spat clear
lcd_spat drawpict pattern

OPER source 1 ad -45 2.4, source 2 ad 45 2.4, source 3 ad 135 2.4, source 4 ad -135 2.4


; ($cmd, $iniT, $targeT, $r, $offsetX, $offsetY, $count, $SPEED)

::circle("spat1", 3/4, 2+3/4, 1, -1, 1, 1, 4) ; from 3π/4/135°/Az -45 :  1 turn anti-clockwise during 4 beats, with a radius of 1 and
											  ;a negative x offset and a positive y offset 
4

::circle("spat2", 1/4, 2+1/4, 1, 1, 1, 1, 4); from π/4/45°/Az 45 :  1 turn anti-clockwise during 4 beats, with a radius of 1 and
											  ;a positive x and y offset 
4

::circle("spat3", 7/4, 2+7/4, 1, 1, -1, 1, 4) ; from 7π/4/315°/Az 135 :  1 turn anti-clockwise during 4 beats, with a radius of 1 and
											  ;a positive x offset and a negative y offset
4

::circle("spat4", 5/4, 2+5/4, 1, -1, -1, 1, 4) ; from 5π/4/225°/Az -135 :  1 turn anti-clockwise during 4 beats, with a radius of 1 and
											  ;a negative x and y offset 


Event 1 circles_08

lcd_spat clear
lcd_spat drawpict pattern
kill slider

OPER source 1 ad -45 2.4, source 2 ad 45 2.4, source 3 ad 135 2.4, source 4 ad -135 2.4


; ($cmd, $iniT, $targeT, $r, $offsetX, $offsetY, $count, $SPEED)




::circle("spat1", 3/4, 2+3/4, 1, -1, 1 , 1, 4) 


::circle("spat2", 1/4, 2+1/4, 1, 1, 1, 1, 4)


::circle("spat3", 7/4, 2+7/4, 1, 1, -1, 1, 4) 


::circle("spat4", 5/4, 2+5/4, 1, -1, -1, 1, 4)



/*curve slider  @Grain := 0.02s, @Action :=   {::circle("spat1", 3/4, 2+3/4, 1, $x, $y, 1, 8)}
{
	$x, $y
	{
	    { 0. 0. } 
	4 { 1. -1. }
	4 { 2. -2.}
	; ...
	}
}     ;this coroutine works but freezes spat for a while besides it's for graphical purposes only ! */




Event 1 arc_01

; ($cmd, $iniT, $targeT, $r, $offsetX, $offsetY, $count, $SPEED)

; cf. patch_folder/figures_folder/figure IV - trigo_symmetry.pdf

lcd_spat clear
lcd_spat drawpict pattern

::circle("spat1", 0,  1/4, 1, 0, 0, 1, 4) ;  go to x = π/4 (radian)/from 0° to 45° , azimuth from 90° to 45°  - anti-clockwise
4
lcd_spat clear
lcd_spat drawpict pattern

::circle("spat2", 0,  3/4, 1, 0, 0, 1, 4) ; go to  π - x = 3π/4, az = -45 - anti-clockwise
4
lcd_spat clear
lcd_spat drawpict pattern

::circle("spat3", 0, 5/4, 1, 0, 0, 1, 4) ;  go to π + x = 5π/4, az = -135 - anti-clockwise
4
lcd_spat clear
lcd_spat drawpict pattern

::circle("spat4", 0, 7/4, 1, 0, 0, 1, 4) ; go to -x = 7π/4, az = 135 - anti-clockwise




4

lcd_spat clear
lcd_spat drawpict pattern

::circle("spat1", 0,  -1/4, 1, 0, 0, 1, 4) ; -x = 7π/4 (radian), azimuth := 90° to 135 clockwise 
lcd_spat clear
lcd_spat drawpict pattern

::circle("spat2", 0,  -3/4, 1, 0, 0, 1, 4) ;  π + x = 5π/4,  az := 90° to -135° clockwise
4
lcd_spat clear
lcd_spat drawpict pattern

::circle("spat3", 0, -5/4, 1, 0, 0, 1, 4) ;  π - x = 3π/4, az := 90° to -45° clockwise
4
lcd_spat clear
lcd_spat drawpict pattern

::circle("spat4", 0, -7/4, 1, 0, 0, 1, 4) ; x = π/4  , az := 90° to 45° clockwise



Event 1 arcs_01

lcd_spat clear
lcd_spat drawpict pattern

; ($cmd, $iniT, $targeT, $r, $offsetX, $offsetY, $count, $SPEED)

; cf. patch_folder/figures_folder/figure V - offset_symmetry_01.pdf

; check cisoïde in rosace library


::circle("spat3", 1, 5/4, 1, 1, 1, 1, 4) ; 

::circle("spat2", 0, -1/4, 1, -1, 1, 1, 4) ; ::circle("spat2", 2, 7/4, 1, -1, 1, 1, 4)

::circle("spat1", 0, 1/4, 1, -1, -1, 1, 4)

::circle("spat4", 1, 3/4, 1, 1, -1, 1, 4)

6

::circle("spat3", 5/4, 3/2, 1, 1, 1, 1, 4)

::circle("spat2", 7/4, 3/2, 1, -1, 1, 1, 4)

::circle("spat1", 1/4, 1/2, 1, -1, -1, 1, 4)

::circle("spat4", 3/4, 1/2, 1, 1, -1, 1, 4)


Event 1 arcs_02

lcd_spat clear
lcd_spat drawpict pattern

; ($cmd, $iniT, $targeT, $r, $offsetX, $offsetY, $count, $SPEED)

; cf. patch_folder/figures_folder/figure III - offset_symmetry_02.pdf / explain position according to figure III

::circle("spat1", 1/4, 3/4, 1, 0, -1, 1, 4)

::circle("spat2", 1/4, 3/4, 1, 0, -0.8, 1, 4)

::circle("spat3", 1/4, 3/4, 1, 0, -0.6, 1, 4)

::circle("spat4", 1/4, 3/4, 1, 0, -0.4, 1, 4)

6
lcd_spat clear
lcd_spat drawpict pattern

; ($cmd, $iniT, $targeT, $r, $offsetX, $offsetY, $count, $SPEED)


::circle("spat1", 3/4, 1/4, 1, 0, -1, 1, 4)

::circle("spat2", 3/4, 1/4, 1, 0, -0.8, 1, 4)

::circle("spat3", 3/4, 2+1/4, 1, 0, -0.6, 1, 4)

::circle("spat4", 3/4, 2+1/4, 1, 0, -0.4, 1, 4)



Event 1 arcs_03

lcd_spat clear
lcd_spat drawpict pattern

; ($cmd, $iniT, $targeT, $r, $offsetX, $offsetY, $count, $SPEED)

;cf figure II for positions according to offset and arc shapes according to X value in radian

0. group source3 @tempo := $RT_TEMPO {

::circle("spat3", 0, 1/2, 0.2, 0.1, 0.1, 1, 4) ; positive x and y offset 
4
::circle("spat3", 1/2, 0, 0.4, 0.1, 0.1, 1, 4) ; return ticket
4
::circle("spat3", 0, 1/2, 0.6, 0.1, 0.1, 1, 4) ; expanding radius
4
::circle("spat3", 1/2, 0, 0.8, 0.1, 0.1, 1, 4) ; ; arc shape cf. figure II 0 < x < π/2
4
::circle("spat3", 0, 1/2, 1, 0.1, 0.1, 1, 4)
}


0. group source1 @tempo := $RT_TEMPO {

::circle("spat1", 1,   3/2,  0.2,  -0.1, -0.1,  1, 4) ; negative x and y offset 
4
::circle("spat1", 3/2, 1,    0.4,  -0.1, -0.1,  1, 4) ; return ticket
4
::circle("spat1", 1,   3/2,  0.6,  -0.1, -0.1,  1, 4) ; expanding radius
4 
::circle("spat1", 3/2, 1,    0.8,  -0.1, -0.1,  1, 4) ; arc shape cf. figure II π < x < 3π/2
4
::circle("spat1", 1,   3/2,  1,    -0.1, -0.1,  1, 4)

}


Event 1 figure_II

lcd_spat clear
lcd_spat drawpict pattern


::circle("spat1", 1/2, 1,   1,  -1.,  1.,  1, 4)

::circle("spat2", 0,   1/2, 1,   1.,  1.,  1, 4)

::circle("spat3", 1,   3/2, 1,  -1., -1.,  1, 4)

::circle("spat4", 3/2, 2,   1,   1., -1.,  1, 4)












BPM 60

@insert "inserts/@speakers_position.asco.txt"

OPER numspeakers 13, speaker 1 name 1, speaker 2 name 2, speaker 3 name 3, speaker 4 name 4, speaker 5 name 5, speaker 6 name 6, speaker 7 name 7, speaker 8 name 8, speaker 9 name nine, speaker 10 name ten, speaker 11 name eleven, speaker 12 name twelve, speaker 13 name thirteen

::SpeakersConfig($espro)

;position_init bang
lcd_spat clear
lcd_spat drawpict pattern

draw_coordinates 2

OPER zoom 0.6

/*

x = cos(t)
y = sin(t)
z = t/2

*/

@global $pi
$pi := 3.141592653589793

@fun_def X($t, $offsetX) 

{ 
	@cos($t) + $offsetX
} 

@fun_def Y( $t, $offsetY) 
{ 
	
	;$r*(($q-1)*@sin($t)) - @sin(($q-1)*$t) + $offsetY
	@sin($t)  + $offsetY

}


@fun_def Z( $t, $offsetZ) 
{ 
	
	;$r*(($q-1)*@sin($t)) - @sin(($q-1)*$t) + $offsetY
	$t/8  + $offsetZ

}

@proc_def d_01($cmd, $initT, $endT, $offsetX, $offsetY, $offsetZ, $speed)

{	
	@global $SPEED ; to use for setvar outControl with a whenever{(setvar...==setvar...)}
	@local $offset
	$offset := 0.
    
    ;loop pi $SPEED
	;{
		;abort parametric_curve

		curve parametric_curve @grain := 0.02s 
						@Action := {
								
								@command($cmd) xyz @X($t, $offsetX) @Y($t,$offsetY) @Z($t,$offsetZ)
						}

		{
			$t
					{
							   { ($initT*$pi)  } /*@type "exp"*/
						$speed { ($endT*$pi) }
						
	
					}
		}


	;}

}

Event 1 d_01

; ::3d_01($cmd, $initT, $endT, $offsetX, $offsetY, $offsetZ, $speed)
::d_01("spat1", 0, 5/2, 0, 0, 0, 4)

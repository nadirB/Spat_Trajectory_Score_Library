BPM 60

@insert "inserts/@iniT.asco.txt"

@history_clear
@viewer_anchors_visible(0)
@viewer_layout(leftright)
@speakers(8)
speakers_config 24
@sources_position(90, 2)
@viewer_zoom(90)
@viewer_div(0)
@viewer_numdiv(16)
play 0

/*

x = cos(t)
y = sin(t)
z = t/2

*/

@global $pi
$pi := 3.141592653589793

@fun_def X($t, $offsetX)

{
	@cos($t) + $offsetX
}

@fun_def Y( $t, $offsetY)
{

	;$r*(($q-1)*@sin($t)) - @sin(($q-1)*$t) + $offsetY
	@sin($t)  + $offsetY

}


@fun_def Z( $t, $offsetZ)
{

	;$r*(($q-1)*@sin($t)) - @sin(($q-1)*$t) + $offsetY
	$t/8  + $offsetZ

}

@proc_def d_01($src, $initT, $endT, $offsetX, $offsetY, $offsetZ, $speed)

{

  $prefix := "/source/" + $src + "/xyz"
  oscsend spat5 "127.0.0.1" : 4072 $prefix

    ;loop pi $SPEED
	;{
		;abort parametric_curve

		curve parametric_curve @grain := 0.02s
						@Action := {

								spat5 @X($t, $offsetX) @Y($t,$offsetY) @Z($t,$offsetZ)
						}

		{
			$t
					{
							   { ($initT*$pi)  } /*@type "exp"*/
						$speed { ($endT*$pi) }


					}
		}


	;}

}

event 1 d_01

@history_clear
::d_01(2, 0, 1, 0, 0, 0, 4)

event 1 d_01

@history_clear
::d_01(2, 1, 3, 0, 0, 0, 4)

event 1 d_01

@history_clear
::d_01(2, 1, -1, 0, 0, 0, 4)

event 1 d_01

@history_clear
::d_01(2, 1, -3, 0, 0, 0, 4)

BPM 60

@insert "inserts/@iniT.asco.txt"
@insert "inserts/@rectilinear.asco.txt"
@insert "inserts/scenes.asco.txt"

@init_TSL(50)

event 1 CUE_01
::rectilinear()

event 1 CUE_01
::rectilinear(src=1, iniT=-1, targeT=1, a=0, b=0, alpha=1, beta=0, count=1, speed=4)

event 1 CUE_02
::rectilinear(alpha=0, a=0.5, b=0.5)

event 1 CUE_03
::rectilinear(alpha=0, a=@rand_range(-1,1), b=@rand_range(-1,1))

event 1 CUE_04

loop cloud 1/4 {

  ::rectilinear(alpha=0, a=@rand_range(-1,1), b=@rand_range(-1,1), speed=1/4)

}
abort cloud

event 1 CUE_05

@local $cpt
$cpt := 0
loop cloud 1 {

  ::rectilinear(alpha=0, a=@rand_range(-1,1), b=@rand_range(-1,1), speed=1)
  $cpt := $cpt + 1
  print_antescofo "cloud count :" $cpt

} until($cpt==4)


event 1 CUE_05

@proc_def ::nuage() {
  @local $cpt
  $cpt := 0
  loop cloud 1/4 {


    ::rectilinear(alpha=0, a=@rand_range(-1,1), b=@rand_range(-1,1), speed=1/4)
    $cpt := $cpt + 1
  } until($cpt==4)

}

::nuage()

event 1 CUE_06

@proc_def ::nuage() {
  @local $cpt
  $cpt := 0
  loop cloud 1/4 {

    ::rectilinear(alpha=0, a=@rand_range(-1,1), b=@rand_range(-1,1), speed=1/4)
    $cpt := $cpt + 1
  } during[4#]
}

::nuage()

event 1 CUE_07

@proc_def ::nuage($src, $s, $dur) {
  @local $cpt
  $cpt := 0
  loop cloud $s {

    ::rectilinear(src=$src, alpha=0, a=@rand_range(-1,1), b=@rand_range(-1,1), speed=$s)
    $cpt := $cpt + 1
    print_antescofo "cloud count :" $cpt
  } during[$dur#]
}

::nuage(3, 1, 10)

event 1 CUE_08

@macro_def @nuage_group($duration, $speed) {
  ::nuage(1, $duration, $peed)
  ::nuage(2, $duration, $peed)
  ::nuage(3, $duration, $peed)
  ::nuage(4, $duration, $peed)

}


@nuage_group($duration, $speed)

::nuage(2, 1/16, 8)
@nuage_group(1, 8)
